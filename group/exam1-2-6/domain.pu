@startuml 図書館システム（メール通知追加）
skinparam componentStyle rectangle

' 図書館システムの中心
[図書館システム] o-- [生徒]
[図書館システム] o-- [教師]
[図書館システム] o-- [本]
[図書館システム] o-- [カウンター]
[図書館システム] o-- [予約情報]
[図書館システム] o-- [メール通知処理]

' 書籍属性
[本] <|-- [書籍]
[本] <|-- [雑誌]

' 履歴属性
[履歴] <|-- [貸出日]
[履歴] <|-- [返却予定日]
[履歴] <|-- [返却日]

' カウンター機能分割
[カウンター] o-- [貸出処理]
[カウンター] o-- [返却処理]
[カウンター] o-- [履歴]

' 貸出処理属性
[貸出処理] <|-- [管理番号]
[貸出処理] <|-- [返却予定日]

' 返却処理属性
[返却処理] <|-- [管理番号]
[返却処理] <|-- [返却日]

' 予約情報（誰がどの本を予約しているか）
[予約情報] <|-- [書名]
[予約情報] <|-- [利用者ID]
[予約情報] <|-- [予約日]
[予約情報] <|-- [状態]

' メール通知処理（返却後に予約者へ連絡）
[メール通知処理] o-- [予約情報]
[メール通知処理] o-- [返却処理]

@enduml
